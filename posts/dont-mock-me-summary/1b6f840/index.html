<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>blog</title>
  <style>
  html { font-size: 16px; }
  body {
    font-family: Courier;
    font-size: 1em;
    line-height: 1.2em;
    padding: 20px;
    background: #fcfcfc;
    color: #333;
    max-width: 700px;
    margin: 0 auto;
    box-sizing: content-box;
    word-wrap: break-word;
  }
  h1 { font-size: 2em; line-height: 1em; font-weight: bold; }
  li { margin: 1em 0; }
  .title a {
    font-size: 2.5em;
    line-height: 1em;
    font-weight: bold;
    color: inherit;
  }
  .description {
    font-size: 0.9em;
    font-style: italic;
    line-height: 0.3em;
    margin-bottom: 20px;
  }
  pre {
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 15px;
    background: #f0f0f0;
    overflow: scroll;
    font-family: Courier;
    font-size: 1em;
  }
  pre code {
    padding: 0;
  }
  code {
    font-family: Courier;
    font-size: 1em;
    background: #f0f0f0;
    padding: 3px 5px;
  }
  blockquote {
    border-left: 5px solid #ddd;
    padding-left: 20px;
    margin: 40px 10px;
    font-style: italic;
  }
  @media (max-device-width: 812px) {
    body {
      max-width: 100vw;
      line-height: 1.4em;
    }
    h1 {
      /*font-size: 1.4em;*/
      /*line-height: 1em;*/
    }
    img {
      width: 100%
    }
  }
  </style>
  <!-- {{styles}} -->
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-51391788-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-51391788-2');
  </script>
</head>
<body class="f9 b9">
  <div class="title"><a href="/">Dave Normington</a></div>
  <p class="description">Lead Software Engineer at <a href="https://www.arcadiagroup.co.uk/">Arcadia</a></p>
  <h1 id="don-t-mock-me-by-justin-searls-at-assert-js-2018-summary">&quot;Don&#39;t Mock Me&quot; by Justin Searls at Assert(js) 2018 Summary</h1>
<p>At <a href="https://www.assertjs.com/">Assert(js)</a> 2018, Justin Searls (<a href="https://twitter.com/searls">@searls</a>) gave a great and balanced talk about the value of mocking.</p>
<p><a href="https://youtu.be/Af4M8GMoxi4">Watch &quot;Don&#39;t Mock Me&quot; by Justin Searls at Assert(js) 2018</a></p>
<h2 id="1-don-t-partially-mock-the-subject">1. Don&#39;t partially mock the subject</h2>
<ul>
<li>may cause tests to fail unexpectedly in future</li>
<li>When the test subject is partially mocked this is an antipattern called the &quot;Contaminated Test Subject&quot;</li>
</ul>
<h2 id="2-don-t-partially-mock-dependencies">2.  Don&#39;t partially mock dependencies</h2>
<ul>
<li>Partially mocking a module&#39;s dependencies is usually be caused by developers not wanting to &quot;overmock&quot; or not agreeing on how to mock properly.</li>
<li>May cause ping-ponging between mocking and unmocking modules over time</li>
</ul>
<h2 id="3-design-tests-to-fail">3. Design tests to fail</h2>
<ul>
<li>Decide when to do isolation testing (fully mock) and when to do logic testing (zero mocking)</li>
</ul>
<h2 id="2-wrap-awkward-3rd-parties">2. Wrap awkward 3rd parties</h2>
<ul>
<li>To protect your codebase from changes in the library</li>
<li>to make mocking simpler in other tests</li>
</ul>
<h2 id="3-functions-should-do-or-delegate-never-both">3. &quot;Functions should do or delegate, never both&quot;</h2>
<ul>
<li>delegators can be isoltation tested via mocks</li>
<li>â€Žlogic functions can be pure and tested behaviourly</li>
</ul>
<h2 id="4-outside-in-testing-with-mocks">4. Outside in testing with mocks</h2>
  <ul>
  <li><a href="./diff">See diff</a></li>
  <li><a href="../1dc4497">See earlier version</a></li>
  <li><a href="../6b808d6">See later version</a></li>
</ul>
</body>
</html>
