<!DOCTYPE html>
<html>
    <head>
    	<title>
  davidnormo blog | &#34;Don&#39;t Mock Me&#34; by Justin Searls at Assert(js) 2018 Summary
</title><meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#333333" />
<style>
html { font-size: 18px; }
body {
  font-family: Trebuchet MS;
  font-size: 1em;
  line-height: 1.4em;
  padding: 20px;
  background: #fcfcfc;
  color: #333;
  max-width: 700px;
  margin: 0 auto;
  box-sizing: content-box;
  word-wrap: break-word;
}
a { color: #333;  }
h1, h2 { font-family: Bookman; }
h1 { font-size: 2em; line-height: 1em; font-weight: bold; }
h2 { font-size: 2em; line-height: 1em; font-weight: bold; }
li { margin: 1em 0; }
.title a {
  font-size: 2.5em;
  line-height: 1em;
  font-weight: bold;
  color: inherit;
}
.description {
  font-size: 0.9em;
  font-style: italic;
  line-height: 0.3em;
  margin-bottom: 20px;
}
pre {
  border: 1px solid #ccc;
  border-radius: 5px;
  padding: 15px;
  background: #f0f0f0;
  overflow: scroll;
  font-family: Courier;
  font-size: 0.7em;
  line-height: 1.7em
}
pre code {
  padding: 0;
}
code {
  font-family: Courier;
  font-size: 1em;
  background: #f0f0f0;
  padding: 3px 5px;
}
blockquote {
  border-left: 5px solid #ddd;
  padding-left: 20px;
  margin: 40px 10px;
  font-style: italic;
}
@media (max-device-width: 812px) {
  body {
    max-width: 100vw;
    line-height: 1.4em;
  }
  h1 {
     
     
  }
  img {
    width: 100%
  }
}
</style>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51391788-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51391788-2');
</script></head>
    <body><a href="https://davidnormo.github.io/"><h1>Dave Normington</h1></a>
<i>Lead Software Engineer at Arcadia</i><div id="content">
  <h2>&#34;Don&#39;t Mock Me&#34; by Justin Searls at Assert(js) 2018 Summary</h2>
  <p>May 11, 2018</p>
  

<p>At <a href="https://www.assertjs.com/">Assert(js)</a> 2018, Justin Searls (<a href="https://twitter.com/searls">@searls</a>) gave a great and balanced talk about the value of mocking.</p>

<p><a href="https://vimeo.com/257056050">Watch &ldquo;Don&rsquo;t Mock Me&rdquo; by Justin Searls at Assert(js) 2018</a></p>

<h2 id="1-don-t-partially-mock-the-subject">1. Don&rsquo;t partially mock the subject</h2>

<ul>
<li>may cause tests to fail unexpectedly in future</li>
<li>When the test subject is partially mocked this is an antipattern called the &ldquo;Contaminated Test Subject&rdquo;</li>
</ul>

<h2 id="2-don-t-partially-mock-dependencies">2.  Don&rsquo;t partially mock dependencies</h2>

<ul>
<li>Partially mocking a module&rsquo;s dependencies is usually be caused by developers not wanting to &ldquo;overmock&rdquo; or not agreeing on how to mock properly.</li>
<li>May cause ping-ponging between mocking and unmocking modules over time</li>
</ul>

<h2 id="3-design-tests-to-fail">3. Design tests to fail</h2>

<ul>
<li>Decide when to do isolation testing (fully mock) and when to do logic testing (zero mocking)</li>
</ul>

<h2 id="2-wrap-awkward-3rd-parties">2. Wrap awkward 3rd parties</h2>

<ul>
<li>To protect your codebase from changes in the library</li>
<li>to make mocking simpler in other tests</li>
</ul>

<h2 id="3-functions-should-do-or-delegate-never-both">3. &ldquo;Functions should do or delegate, never both&rdquo;</h2>

<ul>
<li>delegators can be isoltation tested via mocks testing their contracts</li>
<li>â€Žlogic functions should be pure and tested for their behaviour</li>
</ul>

<h2 id="4-outside-in-testing-with-mocks">4. Outside in testing with mocks</h2>

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = "https:\/\/davidnormo.github.io\/posts\/dont-mock-me-summary\/";
      this.page.identifier = "0f783c1b5f03399d2e8e11e8aae0873c";
      this.callbacks.onNewComment = [function(comment) {
            ga('send', {
              'hitType': 'event',
              'eventCategory': 'Comments',
              'eventAction': 'New Comment',
              'eventLabel': 'New Comment'
          });
      }];
    };
    (function() { 
    var d = document, s = d.createElement('script');
    s.src = 'https://davidnormo.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

        </div></body>
</html>
